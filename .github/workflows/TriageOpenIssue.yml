name: Triager on Opened issues
run-name: TriagerX for opened issues

on:
    issues:
        types: [opened]

jobs:
  issue_opened:
      name: Issue Opened
      runs-on: ubuntu-latest
      steps:
        - name: Set up Node.js
          uses: actions/setup-node@v2
          with:
            node-version: '14'

        - name: Install dependencies
          run: npm install axios

        - name: commenting on issues
          uses: actions/github-script@v4
          with:
              github-token: ${{ secrets.GITHUB_TOKEN }}
              script: |
                  const axios = require('axios');
                  const input = {
                    "issue_title": context.payload.issue.title,
                    "issue_description": context.payload.issue.body,
                  }
                  const issueNumber = context.payload.issue.number
                  console.log('input: ', input)
